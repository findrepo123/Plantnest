<nb-card [formGroup]="editSaleFormGroup">
    <nb-card-header>
        Edit Product Sale Id: {{editSaleFormGroup.get('id').value}}
    </nb-card-header>
    <nb-card-body>
        <input type="text" nbInput fullWidth placeholder="Sale Name" formControlName="name">
        <div class="alert alert-danger mt-0 mb-3"
            *ngIf="editSaleFormGroup.get('name').invalid && (editSaleFormGroup.get('name').dirty || editSaleFormGroup.get('name').touched)">
            <div *ngIf="editSaleFormGroup.get('name').errors['notblank']">
                Product Sale name is required
            </div>

            <div *ngIf="editSaleFormGroup.get('name').errors['maxlength']">
                Product Sale name must not exceed 50 characters
            </div>
        </div>

        <textarea rows="3" nbInput fullWidth placeholder="Short Description" formControlName="description"
            style="resize: none"></textarea>
        <div class="alert alert-danger mt-0 mb-3"
            *ngIf="editSaleFormGroup.get('description').invalid && (editSaleFormGroup.get('description').dirty || editSaleFormGroup.get('description').touched)">
            <div *ngIf="editSaleFormGroup.get('description').errors['notblank']">
                Product Sale description is required
            </div>

            <div *ngIf="editSaleFormGroup.get('description').errors['maxlength']">
                Product Sale description must not exceed 50 characters
            </div>
        </div>

        <nb-select fullWidth selected="1" placeholder="Discount Type" formControlName="discountType">
            <nb-select-label>
                Type: {{ editSaleFormGroup.get('discountType').value }}
            </nb-select-label>
            <nb-option value="Fixed">Fixed</nb-option>
            <nb-option value="Percent">Percent</nb-option>
        </nb-select>
        <div class="alert alert-danger mt-0 mb-3"
            *ngIf="editSaleFormGroup.get('discountType').invalid && (editSaleFormGroup.get('discountType').dirty || editSaleFormGroup.get('discountType').touched)">
            <div *ngIf="editSaleFormGroup.get('discountType').errors['required']">
                Discount Type is required
            </div>
        </div>

        <input type="number" nbInput fullWidth placeholder="Discount Value" formControlName="discountValue">
        <div class="alert alert-danger mt-0 mb-3"
            *ngIf="editSaleFormGroup.get('discountValue').invalid && (editSaleFormGroup.get('discountValue').dirty || editSaleFormGroup.get('discountValue').touched)">
            <div *ngIf="editSaleFormGroup.get('discountValue').errors['required']">
                Discount Value is required
            </div>

            <div *ngIf="editSaleFormGroup.get('discountValue').errors['max']">
                Discount Value must not be larger than 100%
            </div>
        </div>

        <input nbInput fullWidth placeholder="Start Date" [nbDatepicker]="startDate" formControlName="startedAt">
        <nb-datepicker #startDate></nb-datepicker>
        <div class="alert alert-danger mt-2 mb-3"
            *ngIf="editSaleFormGroup.get('startedAt').invalid && (editSaleFormGroup.get('startedAt').dirty || editSaleFormGroup.get('startedAt').touched)">
            <div *ngIf="editSaleFormGroup.get('startedAt').errors['required']">
                Start Date is required
            </div>
        </div>
        <input nbInput fullWidth placeholder="Expire Date" [nbDatepicker]="expireDate" formControlName="expiredAt">
        <nb-datepicker #expireDate></nb-datepicker>
        <div class="alert alert-danger mt-2 mb-3"
            *ngIf="editSaleFormGroup.get('expiredAt').invalid && (editSaleFormGroup.get('expiredAt').dirty || editSaleFormGroup.get('expiredAt').touched)">
            <div *ngIf="editSaleFormGroup.get('expiredAt').errors['required']">
                Expire Date is required
            </div>
        </div>

        <nb-checkbox (checkedChange)="editSaleFormGroup.get('active').setValue($event)" status="success"
            [checked]="editSaleFormGroup.get('active').value">
            Active
        </nb-checkbox>
    </nb-card-body>
    <nb-card-footer>
        <div class="d-flex justify-content-between">
            <button nbButton status="success" (click)="submitEditSale()">SAVE</button>
        </div>
    </nb-card-footer>
</nb-card>