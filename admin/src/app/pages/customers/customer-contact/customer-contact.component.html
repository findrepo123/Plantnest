<ng-container *ngIf="loadedContacts; else loadingBlock">
    <nb-card>
        <nb-card-header class="d-flex justify-content-between align-items-center">
            <h6>
                Contact List
            </h6>
            <ngx-item-of-list (selectNumberOfItem)="source.setPaging(1, $event)"></ngx-item-of-list>
        </nb-card-header>
        <nb-card-body>
            <ng2-smart-table 
                id="product-table" 
                [settings]="settings" 
                [source]="source"
                [ngClass]="'smart-table'"
                (userRowSelect)="onRowSelect($event)">
            </ng2-smart-table>
        </nb-card-body>
        <nb-card-footer>
            <ng-container *ngIf="selectedContacts.length > 0">
                <button nbButton status="danger" (click)="openDeleteWindow()">
                    <nb-icon icon="trash-outline"></nb-icon>
                </button>
            </ng-container>
        </nb-card-footer>
    </nb-card>
</ng-container>

<ng-template #loadingBlock>
    <nb-card [size]="'small'" [nbSpinner]="!loadedContacts" nbSpinnerSize="large" nbSpinnerStatus="primary">
    </nb-card>
</ng-template>


<ng-template #onDeleteTemplate let-data>
    <nb-card>
        <nb-card-header>
                Are you sure you want to delete this contacts?
        </nb-card-header>
        <nb-card-body>
            <button nbButton status="success" class="mt-3" (click)="onDeleteContacts()">
                CONFIRM
            </button>
        </nb-card-body>
    </nb-card>
</ng-template>